specVersion: 0.0.1
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: Escrow
    network: mainnet
    source:
      address: "0x15fEE760Ab99bdC6ec8369B4791b9eBFB9705cA1"
      abi: Escrow
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - DefinedOfferCancelled
        - DisplayedOfferCancelled
        - OfferAccepted
        - OfferDefined
        - OfferDisplayed
      abis:
        - name: Escrow
          file: ./abis/Escrow.json
      eventHandlers:
        - event: DefinedOfferCancelled(uint256)
          handler: handleDefinedOfferCancelled
        - event: DisplayedOfferCancelled(uint256)
          handler: handleDisplayedOfferCancelled
        - event: OfferAccepted(uint256,uint256)
          handler: handleOfferAccepted
        - event: OfferDefined(uint256,uint256,address,((address,uint256)[],(address,uint256)[]))
          handler: handleOfferDefined
        - event: OfferDisplayed(uint256,address,((address,uint256)[],(address,uint256)[]))
          handler: handleOfferDisplayed
      file: ./src/escrow.ts
